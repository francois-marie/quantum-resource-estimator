<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redirecting...</title>
    
    <!-- Canonical URL for SEO -->
    <link rel="canonical" href="https://francoismarieleregent.xyz/quantum-resource-estimator/">
    
    <!-- Immediate meta refresh fallback (will be overridden by JavaScript if parameters exist) -->
    <meta http-equiv="refresh" content="1; url=https://francoismarieleregent.xyz/quantum-resource-estimator/">
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }
        .container {
            max-width: 500px;
            padding: 2rem;
        }
        h1 {
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }
        p {
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            opacity: 0.9;
        }
        a {
            color: #fff;
            text-decoration: none;
            background: rgba(255,255,255,0.2);
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            transition: background 0.3s;
            display: inline-block;
        }
        a:hover {
            background: rgba(255,255,255,0.3);
        }
        .spinner {
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 3px solid #fff;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 1rem auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .debug {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 1rem;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸš€ Site Moved!</h1>
        <p>The Quantum Resource Estimator has moved to a new location.</p>
        <div class="spinner"></div>
        <p>You'll be redirected automatically in a moment...</p>
        <a href="https://francoismarieleregent.xyz/quantum-resource-estimator/" id="manual-redirect">
            Go to new site manually
        </a>
        <div class="debug" id="debug-info">
            Preparing redirect...
        </div>
    </div>

    <script>
        try {
            console.log('Redirect script starting...');
            
            // Get URL parameters
            const urlParams = window.location.search;
            const baseUrl = 'https://francoismarieleregent.xyz/quantum-resource-estimator/';
            const redirectUrl = baseUrl + urlParams;
            
            console.log('Original URL:', window.location.href);
            console.log('URL Parameters:', urlParams);
            console.log('Redirect URL:', redirectUrl);
            
            // Update debug info
            document.getElementById('debug-info').innerHTML = 
                'Redirecting to: ' + redirectUrl;
            
            // Update manual redirect link
            const manualLink = document.getElementById('manual-redirect');
            if (manualLink) {
                manualLink.href = redirectUrl;
                console.log('Updated manual link');
            }
            
            // If we have URL parameters, update the meta refresh
            if (urlParams) {
                console.log('Updating meta refresh with parameters');
                const existingMeta = document.querySelector('meta[http-equiv="refresh"]');
                if (existingMeta) {
                    existingMeta.setAttribute('content', '0; url=' + redirectUrl);
                }
            }
            
            // Immediate redirect attempt
            console.log('Attempting immediate redirect...');
            window.location.replace(redirectUrl);
            
            // Fallback redirect after 500ms
            setTimeout(function() {
                console.log('Fallback redirect 1 (500ms)...');
                window.location.href = redirectUrl;
            }, 500);
            
            // Second fallback after 1500ms
            setTimeout(function() {
                console.log('Fallback redirect 2 (1500ms)...');
                window.location.assign(redirectUrl);
            }, 1500);
            
            // Third fallback after 3000ms
            setTimeout(function() {
                console.log('Final fallback redirect (3000ms)...');
                window.open(redirectUrl, '_self');
            }, 3000);

            // Track the redirect with PostHog if it exists
            if (typeof posthog !== 'undefined') {
                posthog.capture('github_pages_redirect', {
                    from: 'github-pages',
                    to: 'francoismarieleregent.xyz/quantum-resource-estimator',
                    preserved_params: urlParams
                });
            }
            
        } catch (error) {
            console.error('Redirect script error:', error);
            document.getElementById('debug-info').innerHTML = 
                'Error: ' + error.message + '<br>Please click the manual link above.';
        }
    </script>
</body>
</html> 
